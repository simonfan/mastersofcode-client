<ion-view cache-view="false">
	<ion-nav-buttons side="left">
		<button class="button button-clear" ng-click="chargeForm.previousStep()">
			<span ng-show="chargeForm.currentStepIndex === 0">fechar</span>
			<span ng-show="chargeForm.currentStepIndex !== 0">anterior</span>
		</button>
	</ion-nav-buttons>

	<ion-nav-title>
		{{ chargeForm.currentStepTitle }}
	</ion-nav-title>


	<ion-nav-buttons side="right">
		<button class="button button-clear" ng-click="chargeForm.nextStep()">próximo</button>
	</ion-nav-buttons>



<!-- 	<ion-content scroll="false">
	</ion-content>
 -->

	<ion-slide-box class="has-header" on-slide-changed="chargeForm.stepChanged($index)">
		<ion-slide>
			<form id="phone-form" ng-submit="chargeForm.nextStep()">

				<div class="row row-center">

					<div class="col">

						<input id="phone-input" type="tel" ng-model="chargeForm.values.phone">
					</div>

				</div>
			</form>
		</ion-slide>
		<ion-slide>
			<form id="products-form" ng-submit="chargeForm.nextStep()">

				<div class="row">
					<div class="col">
						<h3>lista de produtos:</h3>
					</div>
				</div>

<!-- 				<div 
					class="row"

					ng-repeat="product in productCart"
				>
					<div class="col-67">{{ product.name }}</div>
					<div class="col-33">{{ product.price }}</div>

				</div> -->

				<div class="row">

					<div class="col">

						<table style="width: 100%;">
							<tr ng-show="productCart.length > 0">
								<td>descrição</td>
								<td>preço</td>
							</tr>

							<tbody>

								<tr ng-repeat="product in productCart track by $index">

									<td>{{ product.name }}</td>
									<td>{{ product.price | currency : "R$ " : 2 }}</td>

								</tr>
							</tbody>
						</table>
					</div>
				</div>


				<!-- total -->
<!-- 				<div class="row row-center">
					<div class="col">
						<input id="phone-input" type="tel" ng-model="chargeForm.values.phone">
					</div>

				</div> -->

			</form>
		</ion-slide>
	</ion-slide-box>



	<div class="bottom-panel" ng-show="chargeForm.currentStepIndex === 1">


		<div ng-repeat="products in availableProducts" class="row row-top">
			<div class="col" ng-repeat="product in products">
				<button
					class="button button-block button-positive"
					ng-click="addToCart(product)"
				>{{ product.name }}</button>
			</div>
		</div>

		<div class="row">
			<div class="col">
				<button
					class="button button-block button-assertive"
					ng-click="charge()"
				>Enviar cobrança</button>
			</div>
		</div>
	</div>
</ion-view>
